{
  "kind": "build_request",
  "title": "Fix 'labour not found' error on booking page",
  "projectName": "LaborConnect",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-24",
      "text": "Debug and fix the 'labour not found' error displayed on the booking creation page (CreateBookingPage.tsx) by investigating the laborer data fetching logic, verifying the laborId parameter is correctly passed and parsed, and ensuring the backend getLaborerById function returns the correct laborer data",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-6"
        ],
        "quotes": [
          "now it is showing labour not found"
        ]
      },
      "acceptanceCriteria": [
        "The booking page successfully loads laborer information when accessed with a valid laborId",
        "No 'labour not found' error is displayed when the laborId exists in the system",
        "Appropriate error handling displays a user-friendly message if the laborId is genuinely invalid or missing",
        "The laborId URL parameter is correctly extracted and passed to the backend query"
      ]
    },
    {
      "id": "REQ-25",
      "text": "Add comprehensive error logging to the CreateBookingPage.tsx laborer data fetching flow to capture the laborId parameter value, query execution status, backend response, and any error details to aid in debugging the 'labour not found' issue",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-6"
        ]
      },
      "acceptanceCriteria": [
        "Console logs show the laborId value being used in the query",
        "Backend response data or error details are logged when the laborer query executes",
        "Error states are clearly logged with descriptive messages indicating the failure point"
      ]
    },
    {
      "id": "REQ-26",
      "text": "Verify the backend getLaborerById function in main.mo correctly retrieves laborer data and returns null only when the laborer genuinely does not exist, ensuring proper handling of Principal-based lookups and state access",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-6"
        ]
      },
      "acceptanceCriteria": [
        "The getLaborerById function successfully returns laborer data for valid Principal IDs",
        "The function returns null only when the laborer does not exist in the laborers HashMap",
        "No runtime errors occur during laborer lookup operations"
      ]
    }
  ],
  "constraints": [
    "Maintain single-actor backend architecture in main.mo",
    "Do not modify immutable frontend paths: useInternetIdentity.ts, useInternetIdentity.tsx, useActor.ts, main.tsx, frontend/src/components/ui"
  ],
  "nonGoals": [
    "Redesigning the booking page UI or layout",
    "Adding new laborer profile fields",
    "Implementing new booking features beyond fixing the error"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}